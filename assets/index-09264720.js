(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const P of u.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&s(P)}).observe(document,{childList:!0,subtree:!0});function o(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(i){if(i.ep)return;i.ep=!0;const u=o(i);fetch(i.href,u)}})();const ct=document.querySelector(".header-numerical"),at=document.querySelector(".header-playable"),dt=document.querySelector(".header-introductory"),ut=document.querySelector(".header-no-filters"),te=[document.querySelector(".born-year"),document.querySelector(".calculator"),document.querySelector(".guess-number"),document.querySelector(".time-calculator"),document.querySelector(".max-number")],oe=[document.querySelector(".rock-paper-scissors"),document.querySelector(".google-dino"),document.querySelector(".football"),document.querySelector(".space")],se=[document.querySelector(".team"),document.querySelector("#scientists")];ct.addEventListener("click",t=>{te.forEach(e=>e.style.display="block"),oe.forEach(e=>e.style.display="none"),se.forEach(e=>e.style.display="none")});at.addEventListener("click",t=>{te.forEach(e=>e.style.display="none"),oe.forEach(e=>e.style.display="block"),se.forEach(e=>e.style.display="none")});dt.addEventListener("click",t=>{te.forEach(e=>e.style.display="none"),oe.forEach(e=>e.style.display="none"),se.forEach(e=>e.style.display="block")});ut.addEventListener("click",t=>{te.forEach(e=>e.style.display="block"),oe.forEach(e=>e.style.display="block"),se.forEach(e=>e.style.display="block")});const X=document.querySelector(".header-modal-input"),xe=document.querySelector(".header-hello"),Ye=document.querySelector(".header-modal-btn-save");document.querySelector(".header-modal");const De=document.querySelector(".header-modal-backdrop"),Ue=document.querySelector(".header-modal-sub-backdrop");document.querySelector(".header-modal-sub");const ht=document.querySelector(".header-modal-btn-close"),mt=document.querySelector(".header-modal-sub-btn-close");Ye.addEventListener("click",()=>{X.value.length>=3?(xe.textContent=`Вітаємо ${X.value}!`,X.style.border="1px solid green"):(xe.textContent="Вітаємо, User!",X.style.border="1px solid red")});ht.addEventListener("click",()=>{De.classList.toggle("header-modal-backdrop-vision")});Ye.addEventListener("click",()=>{De.classList.toggle("header-modal-backdrop-vision"),Ue.classList.toggle("header-modal-sub-backdrop-vision")});mt.addEventListener("click",()=>{Ue.classList.toggle("header-modal-sub-backdrop-vision")});const yt=document.querySelector(".header-dropdown-btn"),pt=document.querySelector(".header-dropdown-content"),F=document.querySelector(".header-cirkle"),ke=document.querySelector(".header-ellipse"),K=document.querySelector(".time-calculator-cirkle"),Se=document.querySelector(".time-calculator-ellipse"),Ee=document.querySelector(".header-cirkle-img"),we=document.querySelector("body"),qe=document.querySelectorAll("section"),Ce=document.querySelectorAll("p"),Me=document.querySelector("header"),Ie=document.querySelector("footer"),ce=document.querySelectorAll("a");console.log(ce);const Be=document.querySelectorAll("h1"),Te=document.querySelectorAll("h2"),$e=document.querySelectorAll("h3");yt.addEventListener("click",()=>{pt.classList.toggle("show")});F.addEventListener("click",t=>{F.classList.toggle("header-cirkle-right"),F.classList.contains("header-cirkle-right")?(we.style.backgroundColor="#8a8a8a",Ee.src="../img/moon.svg",F.style.backgroundColor="black",ke.style.backgroundColor="#FFF",Se.style.backgroundColor="#FFF",Ce.forEach(e=>{e.classList.toggle("all-text-white"),e.classList.toggle("all-text-black")}),Be.forEach(e=>{e.classList.toggle("all-title-white"),e.classList.toggle("all-title-black")}),Te.forEach(e=>{e.classList.toggle("all-title-white"),e.classList.toggle("all-title-black")}),$e.forEach(e=>{e.classList.toggle("all-title-white"),e.classList.toggle("all-title-black")}),qe.forEach(e=>{e.classList.toggle("all-section-black"),e.classList.toggle("all-section-white")}),Me.classList.toggle("all-section-black"),Ie.classList.toggle("all-section-black"),K.classList.toggle(".all-circle-bg-white"),K.classList.toggle(".all-circle-bg-black"),ce.forEach(e=>{e.classList.toggle("all-link-white"),e.classList.toggle("all-link-black")})):(we.style.backgroundColor="white",Ee.src="../img/sun.svg",F.style.backgroundColor="white",ke.style.backgroundColor="#7a7a7a",Se.style.backgroundColor="#7a7a7a",Ce.forEach(e=>{e.classList.toggle("all-text-white"),e.classList.toggle("all-text-black")}),Be.forEach(e=>{e.classList.toggle("all-title-white"),e.classList.toggle("all-title-black")}),Te.forEach(e=>{e.classList.toggle("all-title-white"),e.classList.toggle("all-title-black")}),$e.forEach(e=>{e.classList.toggle("all-title-white"),e.classList.toggle("all-title-black")}),qe.forEach(e=>{e.classList.toggle("all-section-black"),e.classList.toggle("all-section-white")}),Me.classList.toggle("all-section-black"),Ie.classList.toggle("all-section-black"),K.classList.toggle(".all-circle-bg-white"),K.classList.toggle(".all-circle-bg-black"),ce.forEach(e=>{e.classList.toggle("all-link-white"),e.classList.toggle("all-link-black")}))});const q=document.querySelector("[data-remove]"),ft=document.querySelector("[data-btnYear]"),gt=document.querySelector("[data-inputYear]");ft.addEventListener("click",()=>{const t=parseInt(gt.value,10);isNaN(t)||t<=0?(q.textContent="Введіть коректний рік!",q.style.color="black"):t%4===0&&t%100!==0||t%400===0?(q.textContent="Ви народилися у високосний рік!",q.style.color="green"):(q.textContent="Ви народилися не у високосний рік!",q.style.color="red")});document.querySelector(".guess-number-form");const V=document.querySelector(".guess-number-input"),vt=document.querySelector(".guess-number-btn"),k=document.querySelector(".guess-number-text"),bt=document.querySelector(".guess-number-search");function Xe(){return Math.round(Math.random()*100)}vt.addEventListener("click",t=>{t.preventDefault();const e=Number(V.value),o=Xe();e===o?(k.textContent=`Вітаю ви відгадали число! ${o}`,k.classList.toggle("guess-number-text-true")):(k.textContent=`Ви програли, комп’ютер загадав ${o}`,k.classList.toggle("guess-number-text-false")),V.value=""});bt.addEventListener("click",t=>{t.preventDefault();const e=Number(V.value),o=Xe();e===o?(k.textContent=`Вітаю ви відгадали число! ${o}`,k.classList.toggle("guess-number-text-true")):(k.textContent=`Ви програли, комп’ютер загадав ${o}`,k.classList.toggle("guess-number-text-false")),V.value=""});const ie=function(){document.querySelector(".rock-paper-scissors-user").textContent=0,document.querySelector(".rock-paper-scissors-tie").textContent=0,document.querySelector(".rock-paper-scissors-pc").textContent=0,x.textContent="Почніть гру",x.style.color="black",ae=0,de=0,ue=0,r=0,d[0].classList.remove("rock-paper-scissors-item-hover"),d[1].classList.remove("rock-paper-scissors-item-hover"),d[2].classList.remove("rock-paper-scissors-item-hover")},m=document.querySelectorAll(".rock-paper-scissors-difficulty"),d=document.querySelectorAll(".rock-paper-scissors-item"),Lt=document.querySelector(".rock-paper-scissors-button"),x=document.querySelector(".rock-paper-scissors-text");let r=0,W=2;m[0].addEventListener("click",t=>{W=1,m[0].classList.add("rock-paper-scissors-difficulty-hover"),m[1].classList.remove("rock-paper-scissors-difficulty-hover"),m[2].classList.remove("rock-paper-scissors-difficulty-hover"),ie()});m[1].addEventListener("click",t=>{W=2,m[0].classList.remove("rock-paper-scissors-difficulty-hover"),m[1].classList.add("rock-paper-scissors-difficulty-hover"),m[2].classList.remove("rock-paper-scissors-difficulty-hover"),ie()});m[2].addEventListener("click",t=>{W=3,m[0].classList.remove("rock-paper-scissors-difficulty-hover"),m[1].classList.remove("rock-paper-scissors-difficulty-hover"),m[2].classList.add("rock-paper-scissors-difficulty-hover"),ie()});d[0].addEventListener("click",t=>{r=1,d[0].classList.add("rock-paper-scissors-item-hover"),d[1].classList.remove("rock-paper-scissors-item-hover"),d[2].classList.remove("rock-paper-scissors-item-hover")});d[1].addEventListener("click",t=>{r=2,d[1].classList.add("rock-paper-scissors-item-hover"),d[0].classList.remove("rock-paper-scissors-item-hover"),d[2].classList.remove("rock-paper-scissors-item-hover")});d[2].addEventListener("click",t=>{r=3,d[2].classList.add("rock-paper-scissors-item-hover"),d[0].classList.remove("rock-paper-scissors-item-hover"),d[1].classList.remove("rock-paper-scissors-item-hover")});let ae=0,de=0,ue=0;Lt.addEventListener("click",t=>{let e=Math.floor(Math.random()*3)+1;W===1?Math.floor(Math.random()*10)+1===1?r===1?e=3:e=r-1:Math.floor(Math.random()*10)+1===1?e=r:r===3?e=1:e=r+1:W===3&&(Math.floor(Math.random()*50)+1===1?r===3?e=1:e=r+1:Math.floor(Math.random()*50)+1===1?e=r:r===1?e=3:e=r-1),r===1&&e===2||r===2&&e===3||r===3&&e===1?(de+=1,document.querySelector(".rock-paper-scissors-user").textContent=de,x.textContent="Ви виграли раунд!",x.style.color="green"):r===e?(ue+=1,document.querySelector(".rock-paper-scissors-tie").textContent=ue,x.textContent="Нічия!",x.style.color="grey"):r===0||(ae+=1,document.querySelector(".rock-paper-scissors-pc").textContent=ae,x.textContent="Комп'ютер виграв раунд!",x.style.color="red"),e=Math.round(Math.random()*(3-1)+1)});document.querySelector(".rock-paper-scissors-update").addEventListener("click",t=>{ie()});let xt=document.getElementById("counter-calculator1"),kt=document.getElementById("counter-calculator2"),Ae=document.getElementById("text-result"),D=null;document.getElementById("plus-button").addEventListener("click",()=>{D="+",highlightActiveButton("plus-button")});document.getElementById("plus-umltiplate").addEventListener("click",()=>{D="*",highlightActiveButton("plus-umltiplate")});document.getElementById("plus-minus").addEventListener("click",()=>{D="-",highlightActiveButton("plus-minus")});document.getElementById("plus-divadet").addEventListener("click",()=>{D="/",highlightActiveButton("plus-divadet")});document.getElementById("button-equal").addEventListener("click",()=>{let t=parseFloat(xt.value),e=parseFloat(kt.value);if(isNaN(t)||isNaN(e)){Ae.value="Помилка: введіть числа";return}let o;switch(D){case"+":o=t+e;break;case"*":o=t*e;break;case"-":o=t-e;break;case"/":o=e!==0?t/e:"Ділення на 0!";break;default:o="Оберіть операцію"}Ae.value=o});function St(t){const e=document.createElement("span");document.body.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="pre",e.style.font=getComputedStyle(t).font,e.style.padding=getComputedStyle(t).padding;const o=()=>{e.textContent=t.value||t.placeholder,t.style.width=`${e.offsetWidth+10}px`};t.addEventListener("input",o),o(),t.addEventListener("blur",()=>{document.body.removeChild(e)})}const Et=document.querySelectorAll(".calculator-field");Et.forEach(St);const he=document.querySelector(".time-calculator-cirkle"),H=document.querySelector(".time-calculator-input"),Z=document.querySelector(".time-calculator-result");document.querySelector(".time-calculator-ellipse").addEventListener("click",t=>{he.classList.toggle("time-calculator-cirkle-right"),he.classList.contains("time-calculator-cirkle-right")?(H.placeholder="Кількість хвилин",H.value="",Z.textContent="0р. 0 дн. 0год. 0хв."):(H.placeholder="Кількість секунд",H.value="",Z.textContent="0 дн. 0год. 0хв. 0сек.")});let c;H.addEventListener("change",t=>{c=t.target.value});document.querySelector(".time-calculator-wrap").addEventListener("click",t=>{!isNaN(c)&&c>=0&&(he.classList.contains("time-calculator-cirkle-right")?Z.textContent=`${(c-c%525600)/525600}р. ${(c%525600-c%525600%1440)/1440} дн. ${(c%525600%1440-c%525600%1440%60)/60}год. ${c%525600%1440%60}хв.`:Z.textContent=`${(c-c%86400)/86400} дн. ${(c%86400-c%86400%3600)/3600}год. ${(c%86400%3600-c%86400%3600%60)/60}хв. ${c%86400%3600%60}сек.`)});const Ne=document.querySelector(".google-dino-player"),Pe=document.querySelector(".google-dino-obs"),Fe=document.querySelector(".google-dino-obs2"),He=document.querySelector(".google-dino-reward"),Ke=document.querySelector(".google-dino-text"),Je=document.querySelector(".google-dino-points"),wt=document.querySelector(".google-dino-button"),w=document.querySelector(".google-dino-backdrop");let Y=!0,Qe=!1,B=!1,me=0;document.addEventListener("keydown",t=>{(t.code==="ArrowUp"||t.code==="Space")&&t.preventDefault()});document.addEventListener("keydown",t=>{Y&&Qe&&(t.code==="ArrowUp"||t.code==="Space")&&!B&&(t.preventDefault(),Ne.classList.add("google-dino-player-up"),B=!0,setTimeout(function(){Ne.classList.remove("google-dino-player-up")},600),setTimeout(function(){B=!1},1100))});let y=0,p=-500,g=-580;function qt(t,e,o){y<=0||y>=610?t.style.opacity=0:t.style.opacity=1,y+=o,y>=535&&y<=600&&!B&&(y-=60,Ke.style.opacity=1,Y=!1,clearInterval(e),clearInterval(pe),clearInterval(_),w.style.display="flex",w.firstElementChild.textContent="Ви програли!",w.lastElementChild.textContent="Заново"),y>=680&&(y=-170,t.style.zIndex=-1,setTimeout(function(){t.style.zIndex=1},1e3)),t.style.right=`${y}px`}function Ct(t,e,o){p<=0||p>=640?t.style.opacity=0:t.style.opacity=1,p+=o,p>=520&&p<=600&&B&&(p-=40,Ke.style.opacity=1,Y=!1,clearInterval(e),clearInterval(ye),clearInterval(_),w.style.display="flex",w.firstElementChild.textContent="Ви програли!",w.lastElementChild.textContent="Заново"),p>=750&&(p=-270,t.style.zIndex=-1,setTimeout(function(){t.style.zIndex=1},1e3)),t.style.right=`${p}px`}let le=!1;function Mt(t,e,o){g<=0||g>=680?t.style.opacity=0:t.style.opacity=1,g+=o,g>=520&&g<=600&&B&&!le&&(me+=1,le=!0,t.innerHTML="",setTimeout(function(){le=!1,t.innerHTML='<img class="google-dino-image" src="../img/coin.png" alt="dino">'},3e3)),g>=730&&(g=-270,t.style.zIndex=-1,setTimeout(function(){t.style.zIndex=1},1e3)),t.style.right=`${g}px`,Je.textContent=me}let ye,pe,_;wt.addEventListener("click",t=>{Je.textContent=0,me=0,y=0,p=-500,g=-580,w.style.display="none",Qe=!0,Pe.style.display="block",Fe.style.display="block",He.style.display="block",Y=!0,Y&&(_=setInterval(()=>Mt(He,_,.3)),ye=setInterval(()=>qt(Pe,ye,22),150),pe=setInterval(()=>Ct(Fe,pe,.7)))});const C=document.querySelector(".football-box"),h=document.querySelector(".football-ball"),It=document.querySelector(".football-goal"),Ve=document.getElementById("score"),Ze=document.querySelector(".football-end"),Bt=document.querySelector(".football-end-btn");let M=0;const Ge=5,j={left:"20px",top:"20px"};h.style.left=j.left;h.style.top=j.top;function Tt(){const t=It.getBoundingClientRect(),e=h.getBoundingClientRect(),o=e.left+e.width/2,s=e.top+e.height/2;return o>t.left&&o<t.right&&s>t.top&&s<t.bottom}function $t(){h.style.left=j.left,h.style.top=j.top}function At(){Ze.style.display="block"}function Nt(){Ze.style.display="none",M=0,Ve.textContent=M}Bt.addEventListener("click",()=>{Nt()});C.addEventListener("click",t=>{if(M>=Ge)return;const e=C.getBoundingClientRect();let o=t.clientX-e.left-h.offsetWidth/2,s=t.clientY-e.top-h.offsetHeight/2;o<0&&(o=0),s<0&&(s=0),o+h.offsetWidth>C.clientWidth&&(o=C.clientWidth-h.offsetWidth),s+h.offsetHeight>C.clientHeight&&(s=C.clientHeight-h.offsetHeight),h.style.left=`${o}px`,h.style.top=`${s}px`,Tt()&&(M+=1,Ve.textContent=M,$t(),M>=Ge&&At())});const Pt=document.querySelectorAll(".max-number-box-item"),Ft=document.querySelector(".max-number-text"),Oe=[];Pt.forEach(t=>{t.addEventListener("input",e=>{const o=Number(e.target.value);Oe.push(o);const s=Math.max(...Oe);Ft.textContent=`Найбільше число, яке ви ввели  ${s}`})});const Ht=document.querySelector("[data-left]"),Gt=document.querySelector("[data-right]"),G=document.querySelector("[data-name]"),O=document.querySelector("[data-description]"),Ot=document.querySelectorAll(".part"),z=document.querySelector(".team-img");let $=0;const T=[{name:"Андрій Мальцев",description:"Скрам-майстер, зробив секції: Калькулятор часу; Google динозавр; Камінь - ножиці - папір; Footer; Scroll To Top",image:"../img/team1.jpg"},{name:"Артем Дикий",description:"Лідер команди, зробив секції: Header; Вгадай число, яке загадав комп’ютер; Футбол; Введіть 3 числа; Модельне вікно; Темна тема",image:"../img/team2.png"},{name:"Святослав Калугін",description:"Голова колгоспу), зробив секції: Перевір в який рік ти народився; Калькулятор; Наша команда; Обери вченого/их; Космічні загарбники",image:"../img/team3.jpg"}];function _e(t){G.textContent=T[t].name,O.innerHTML=T[t].description,z.src=T[t].image,Ot.forEach((e,o)=>{e.style.width="25px",e.style.backgroundColor=o===t?"#868686":"#e3e3e3"})}function je(t){const e=t?"fade-out-right":"fade-out-left",o="fade-in";G.classList.add(e),O.classList.add(e),z.classList.add(e),setTimeout(()=>{_e($),G.classList.remove(e),O.classList.remove(e),z.classList.remove(e),G.classList.add(o),O.classList.add(o),z.classList.add(o),setTimeout(()=>{G.classList.remove(o),O.classList.remove(o),z.classList.remove(o)},500)},500)}Ht.addEventListener("click",()=>{$=($-1+T.length)%T.length,je(!1)});Gt.addEventListener("click",()=>{$=($+1)%T.length,je(!0)});_e($);const zt=[{name:"Альберт",surname:"Ейнштейн",born:1879,dead:1955,id:1},{name:"Ісаак",surname:"Ньютон",born:1643,dead:1727,id:2},{name:"Галілео",surname:"Галілей",born:1564,dead:1642,id:3},{name:"Марія",surname:"Склодовська-Кюрі",born:1867,dead:1934,id:4},{name:"Йоганн",surname:"Кеплер",born:1571,dead:1630,id:5},{name:"Миколай",surname:"Коперник",born:1473,dead:1543,id:6},{name:"Макс",surname:"Планк",born:1858,dead:1947,id:7},{name:"Кетрін",surname:"Блоджетт",born:1898,dead:1979,id:8},{name:"Ада",surname:"Лавлейс",born:1815,dead:1852,id:9},{name:"Сара Е.",surname:"Гуд",born:1855,dead:1905,id:10},{name:"Ліза",surname:"Мейтнер",born:1878,dead:1968,id:11},{name:"Ганна",surname:"Хаммарстрьом",born:1829,dead:1909,id:12}],v=document.querySelectorAll(".sort-list-item"),ge=document.querySelectorAll(".scientist");let re=0;const R=[];function Rt(){let t=[...zt];return R.forEach(e=>{t=e(t)}),t}v[0].addEventListener("click",t=>b(t,Ut));v[1].addEventListener("click",t=>b(t,Xt));v[2].addEventListener("click",t=>b(t,Kt));v[3].addEventListener("click",t=>b(t,Jt));v[4].addEventListener("click",t=>b(t,Qt));v[5].addEventListener("click",t=>b(t,Vt));v[6].addEventListener("click",t=>b(t,Zt));v[7].addEventListener("click",t=>b(t,_t));v[8].addEventListener("click",t=>b(t,jt));function Wt(){for(let t of ge)t.innerHTML=""}function Yt(){for(let t of ge)t.style.transform="scaleX(-1)",setTimeout(()=>t.style.transform="scaleX(1)",250)}function Dt(t,e){return t.sort((o,s)=>o[e].localeCompare(s[e],"uk"))}function b(t,e){R.includes(e)?(R.splice(R.indexOf(e),1),t.currentTarget.classList.remove("active")):(R.push(e),t.currentTarget.classList.add("active")),Yt(),setTimeout(Wt,250),setTimeout(()=>{let s=Rt();re=0,s.forEach(i=>{ge[re].innerHTML=`${i.name} ${i.surname} <br> ${i.born}-${i.dead}`,re++})},500)}function Ut(t){return t.filter(e=>e.born>=1801&&e.born<=1900)}function Xt(t){return Dt(t,"name")}function Kt(t){return t.sort((e,o)=>e.dead-e.born-(o.dead-o.born))}function Jt(t){return t.sort((e,o)=>o.born-e.born)}function Qt(t){return t.filter(e=>e.name==="Альберт"&&e.surname==="Ейнштейн")}function Vt(t){return t.filter(e=>e.surname.startsWith("С"))}function Zt(t){return t.filter(e=>e.name[0]!=="А")}function _t(t){return t.sort((e,o)=>e.dead-e.born-(o.dead-o.born))}function jt(t){return t.filter(e=>e.name[0]===e.surname[0])}const et=document.querySelector("#scoreEl"),a=document.querySelector("canvas"),l=a.getContext("2d"),ze=document.getElementById("startButton"),eo=document.getElementById("gameIconContainer"),to=document.querySelector(".space-box"),tt=document.querySelector(".game-over"),oo=document.querySelector(".try-again");function so(){tt.classList.add("active")}function io(){E.length=0,I.length=0,Q.length=0,A.length=0;for(let t=0;t<100;t++)A.push(new be({position:{x:Math.random()*a.width,y:Math.random()*a.height},velocity:{x:0,y:.3},radius:Math.random()*2,color:"white"}));n.position={x:a.width/2-n.width/2,y:a.height-n.height-20},n.opacity=1,S.over=!1,S.active=!0,ee=0,et.innerHTML=ee,tt.classList.remove("active"),I.push(new ot),Le()}oo.addEventListener("click",io);function no(){S.over&&setTimeout(so,1e3)}let ve=!1;class lo{constructor(){this.velocity={x:0,y:0},this.rotation=0,this.opacity=1;const e=new Image;e.src="../../space-assets/spaceship.png",e.onload=()=>{this.image=e,this.width=e.width*.15,this.height=e.height*.15,this.position={x:a.width/2-this.width/2,y:a.height-this.height-20}}}draw(){l.save(),l.globalAlpha=this.opacity,l.translate(this.position.x+this.width/2,this.position.y+this.height/2),l.rotate(this.rotation),l.translate(-this.position.x-this.width/2,-this.position.y-this.height/2),l.drawImage(this.image,this.position.x,this.position.y,this.width,this.height),l.restore()}update(){this.image&&(this.draw(),this.position.x+=this.velocity.x)}}class ro{constructor({position:e,velocity:o}){this.position=e,this.velocity=o,this.radius=4}draw(){l.beginPath(),l.arc(this.position.x,this.position.y,this.radius,0,Math.PI*2),l.fillStyle="red",l.fill(),l.closePath()}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}class be{constructor({position:e,velocity:o,radius:s,color:i,fades:u}){this.position=e,this.velocity=o,this.radius=s,this.color=i,this.opacity=1,this.fades=u}draw(){l.save(),l.globalAlpha=this.opacity,l.beginPath(),l.arc(this.position.x,this.position.y,this.radius,0,Math.PI*2),l.fillStyle=this.color,l.fill(),l.closePath(),l.restore()}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.fades&&(this.opacity-=.01)}}class co{constructor({position:e,velocity:o}){this.position=e,this.velocity=o,this.width=3,this.height=10}draw(){l.fillStyle="white",l.fillRect(this.position.x,this.position.y,this.width,this.height)}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}}class ao{constructor({position:e}){this.velocity={x:0,y:0};const o=new Image;o.src="../../space-assets/invader.png",o.onload=()=>{this.image=o,this.width=o.width*1,this.height=o.height*1,this.position={x:e.x,y:e.y}}}draw(){l.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)}update({velocity:e}){this.image&&(this.draw(),this.position.x+=e.x,this.position.y+=e.y)}shoot(e){e.push(new co({position:{x:this.position.x+this.width/2,y:this.position.y+this.height},velocity:{x:0,y:5}}))}}class ot{constructor(){this.position={x:0,y:0},this.velocity={x:3,y:0},this.invaders=[];const e=Math.floor(Math.random()*10+5),o=Math.floor(Math.random()*5+2);this.width=e*30;for(let s=0;s<e;s++)for(let i=0;i<o;i++)this.invaders.push(new ao({position:{x:s*30,y:i*30}}))}update(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.y=0,(this.position.x+this.width>=a.width||this.position.x<=0)&&(this.velocity.x=-this.velocity.x,this.velocity.y=30)}}const n=new lo,E=[],I=[],Q=[],A=[],N={a:{pressed:!1},d:{pressed:!1},space:{pressed:!1}};let J=0,Re=Math.floor(Math.random()*500+500),S={over:!1,active:!0},ee=0;for(let t=0;t<100;t++)A.push(new be({position:{x:Math.random()*a.width,y:Math.random()*a.height},velocity:{x:0,y:.3},radius:Math.random()*2,color:"white"}));function We({object:t,color:e,fades:o}){for(let s=0;s<15;s++)A.push(new be({position:{x:t.position.x+t.width/2,y:t.position.y+t.height/2},velocity:{x:(Math.random()-.5)*2,y:(Math.random()-.5)*2},radius:Math.random()*3,color:e||"#BAA0DE",fades:!0}))}function Le(){if(!S.active)return;requestAnimationFrame(Le),l.fillStyle="black",l.fillRect(0,0,a.width,a.height),n.update(),A.forEach((o,s)=>{o.position.y-o.radius>=a.height&&(o.position.x=Math.random()*a.width,o.position.y=-o.radius),o.opacity<=0?setTimeout(()=>{A.splice(s,1)},0):o.update()});const t=document.getElementById("playerHitSound");Q.forEach((o,s)=>{o.position.y+o.height>=a.height||o.update(),o.position.y+o.height>=n.position.y&&o.position.y<=n.position.y+n.height&&o.position.x+o.width>=n.position.x&&o.position.x<=n.position.x+n.width&&(t.play(),console.log("you lose"),setTimeout(()=>{Q.splice(s,1),n.opacity=0,S.over=!0,no()},0),setTimeout(()=>{S.active=!1},2e3),We({object:n,color:"white",fades:!0}))}),E.forEach((o,s)=>{o.position.y+o.radius<=0?setTimeout(()=>{E.splice(s,1)},0):o.update()});const e=document.getElementById("invaderShootSound");I.forEach((o,s)=>{o.update(),J%100===0&&o.invaders.length>0&&(o.invaders[Math.floor(Math.random()*o.invaders.length)].shoot(Q),e.play()),o.invaders.forEach((i,u)=>{i.update({velocity:o.velocity});const P=document.getElementById("hitSound");E.forEach((f,st)=>{I.forEach((U,it)=>{U.invaders.forEach((L,nt)=>{f.position.y-f.radius<=L.position.y+L.height&&f.position.y+f.radius>=L.position.y&&f.position.x+f.radius>=L.position.x&&f.position.x-f.radius<=L.position.x+L.width&&(P.play(),setTimeout(()=>{const lt=U.invaders.find(ne=>ne===L),rt=E.find(ne=>ne===f);lt&&rt&&(ee+=100,et.innerHTML=ee,We({object:L,fades:!0}),U.invaders.splice(nt,1),E.splice(st,1),U.invaders.length===0&&I.splice(it,1))},0))})})})})}),N.a.pressed&&n.position.x>=0?(n.velocity.x=-5,n.rotation=-.15):N.d.pressed&&n.position.x+n.width<=a.width?(n.velocity.x=5,n.rotation=.15):(n.velocity.x=0,n.rotation=0),J%Re===0&&(I.push(new ot),J=0,Re=Math.floor(Math.random()*500+500)),J++}const uo=document.getElementById("startSound"),ho=document.getElementById("backgroundMusic");ze.addEventListener("click",()=>{uo.play(),ho.play(),ve=!0,ze.style.display="none",eo.style.display="none",to.style.display="none",a.style.display="block",document.body.classList.add("game-started"),Le()});const mo=document.getElementById("shootSound");let fe=!0;addEventListener("keydown",({key:t})=>{ve&&(S.over||(t==="w"&&fe&&(fe=!1,E.push(new ro({position:{x:n.position.x+n.width/2,y:n.position.y},velocity:{x:0,y:-10}})),mo.play()),t==="a"&&(N.a.pressed=!0),t==="d"&&(N.d.pressed=!0)))});addEventListener("keyup",({key:t})=>{ve&&(S.over||(t==="w"&&(fe=!0),t==="a"&&(N.a.pressed=!1),t==="d"&&(N.d.pressed=!1)))});
